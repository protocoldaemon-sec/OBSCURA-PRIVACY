# ============================================
# Obscura Backend Environment Variables
# ============================================
# Version: 0.5.2 - Balance query endpoint added

# Server
PORT=3000
NODE_ENV=production
API_VERSION=0.5.2

# ============================================
# Solana Configuration (Devnet)
# ============================================
SOLANA_RPC_URL=https://api.devnet.solana.com
SOLANA_CLUSTER=devnet
SOLANA_PROGRAM_ID=your-program-id
SOLANA_PRIVATE_KEY=your-solana-private-key

# ============================================
# Helius Integration (Enhanced Solana RPC)
# ============================================
HELIUS_API_KEY=your-helius-api-key
HELIUS_RPC_URL=https://devnet.helius-rpc.com?api-key=your-helius-api-key
HELIUS_PRIORITY_LEVEL=medium

# ============================================
# ZK Compression (Light Protocol)
# ============================================
PHOTON_URL=https://devnet.helius-rpc.com?api-key=your-helius-api-key
LIGHT_PROVER_URL=https://prover.lightprotocol.com
LIGHT_STATE_TREE_PUBKEY=smt1NamzXdq4AMqS2fS2F1i5KTYPZRhoHgWx38d8WsT
ENABLE_COMPRESSION=true
COMPRESSION_BATCH_SIZE=50

# Light Protocol Payer (for submitting compressed transactions)
# Generate with: solana-keygen new --outfile light-payer.json
# Then convert to base64: cat light-payer.json | base64 -w 0
# IMPORTANT: Keep this secret! Fund with devnet SOL for transaction fees
LIGHT_PAYER_PRIVATE_KEY=your-base64-encoded-private-key

# ============================================
# Arcium Integration (Confidential Computing)
# ============================================
# Arcium v0.6.3 on devnet cluster offset 456
# Install tooling: curl --proto '=https' --tlsv1.2 -sSfL https://install.arcium.com/ | bash
ARCIUM_RPC_URL=https://devnet.helius-rpc.com?api-key=your-helius-api-key
ARCIUM_CLUSTER_OFFSET=456
ARCIUM_APP_ID=obscura
ARCIUM_ENABLE_CSPL=true
ARCIUM_ENABLE_MPC_AUCTIONS=true
ARCIUM_MPC_TIMEOUT=30000
ARCIUM_PROGRAM_ID=arcaborPMqYhZbLqPKPRXpBKyCMgH8kApNoxp4cLKg
ARCIUM_MEMPOOL_SIZE=Tiny

# ============================================
# Ethereum / EVM Configuration (Sepolia)
# ============================================
ETH_RPC_URL=https://ethereum-sepolia-rpc.publicnode.com
ETH_SETTLEMENT_CONTRACT=your-settlement-contract-address
ETH_VAULT_CONTRACT=your-vault-contract-address
ETH_PRIVATE_KEY=your-ethereum-private-key

# Mainnet (uncomment when ready)
# MAINNET_RPC_URL=https://eth.llamarpc.com

# Base Sepolia Testnet
# BASE_SEPOLIA_RPC_URL=https://sepolia.base.org

# ============================================
# Other EVM Chains (uncomment when needed)
# ============================================
# Polygon
# POLYGON_RPC_URL=https://polygon-rpc.com
# POLYGON_SETTLEMENT_CONTRACT=

# Arbitrum
# ARBITRUM_RPC_URL=https://arb1.arbitrum.io/rpc
# ARBITRUM_SETTLEMENT_CONTRACT=

# Optimism
# OPTIMISM_RPC_URL=https://mainnet.optimism.io

# Base
# BASE_RPC_URL=https://mainnet.base.org

# ============================================
# Block Explorer API Keys (uncomment when needed)
# ============================================
# ETHERSCAN_API_KEY=your-etherscan-api-key
# POLYGONSCAN_API_KEY=your-polygonscan-api-key
# ARBISCAN_API_KEY=your-arbiscan-api-key
# OPTIMISTIC_ETHERSCAN_API_KEY=your-optimistic-etherscan-api-key
# BASESCAN_API_KEY=your-basescan-api-key

# ============================================
# Batch Settlement
# ============================================
BATCH_MAX_SIZE=50
BATCH_MAX_WAIT_TIME=30000
BATCH_MIN_SIZE=1
BATCH_AUTO_SUBMIT=false

# ============================================
# Security
# ============================================
JWT_SECRET=obscura-dev-jwt-secret-change-in-production
RATE_LIMIT_RPM=100

# ============================================
# Solver Network
# ============================================
SOLVER_API_URL=https://solver.sip-protocol.org

# ============================================
# Dark OTC Integration
# ============================================
# Dark OTC API URL for nullifier tracking
# Used to check if deposit nullifiers have been used in settlements
# This prevents double-spend and auto-cleans used deposit notes
DARK_OTC_API_URL=http://localhost:3000

# Production URL (when Dark OTC backend is deployed)
# DARK_OTC_API_URL=https://otc-api.obscura-app.com

# Admin API Key for Dark OTC (optional)
# Required only if you need to manually mark nullifiers as used
# via POST /api/v1/rfq/mark-nullifier-used endpoint
# DARK_OTC_ADMIN_API_KEY=your-admin-api-key-here
